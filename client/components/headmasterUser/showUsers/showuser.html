<div layout="row" layout-align="center center" layout-wrap layout-fill>
  <md-card flex="90" flex-gt-sm="80">
  <md-toolbar class="md-table-toolbar md-primary" ng-hide="filter.show || selected.length" flex>
  <div class="md-toolbar-tools">
    <h2 class="md-title">{{totalUsers - 1}} Users</h2>
    <div flex="" class="flex"></div>
    <md-button class="md-icon-button" aria-label="Search" ng-click="filterShow()">
      <md-icon md-svg-icon="../../assets/img/white_search24.svg"></md-icon>
    </md-button>
  </div>
  </md-toolbar>


  <md-toolbar class="md-table-toolbar md-default"  flex="100" ng-show="filter.show">
  <div class="md-toolbar-tools">
    <form name="filter.form" flex>
      <md-input-container md-no-float class="md-block">
      <md-icon md-svg-icon="../../assets/img/black_search24.svg"></md-icon>
      <input type="text" ng-model="searchText" placeholder="search">
      </md-input-container>
    </form>
    <md-button class="md-icon-button" aria-label="close" ng-click="closeFilter()">
    <md-tooltip md-direction="bottom">
      Close
    </md-tooltip>
    <md-icon md-svg-icon="../../assets/img/white_close24.svg"></md-icon>
    </md-button>
  </div>
  </md-toolbar>


  <md-toolbar class="md-table-toolbar md-primary md-hue-1 " flex="100" ng-show="selected.length">
  <div class="md-toolbar-tools" layout-align="space-between center">
    <div ng-model="selected" flex="80">{{selected[0].username}} selected</div>
    <md-button class="md-icon-button" aria-label="edit" ng-click="openProfile(selected)" >
      <md-tooltip md-direction="bottom">
        View Account
      </md-tooltip>
      <md-icon md-svg-icon="../../assets/img/white_launch24.svg"></md-icon>
    </md-button>
    <md-button class="md-icon-button" aria-label="reset" ng-click="openDialog($event, selected)" >
      <md-tooltip md-direction="bottom">
        Reset Password
      </md-tooltip>
      <md-icon md-svg-icon="../../assets/img/white_resetpass24.svg"></md-icon>
    </md-button>
    <md-button class="md-icon-button" aria-label="delete" ng-click="openDialog($event, selected)" >
      <md-tooltip md-direction="bottom">
        Delete
      </md-tooltip>
      <md-icon md-svg-icon="../../assets/img/white_delete24.svg"></md-icon>
    </md-button>
  </div>
  </md-toolbar>
<md-table-container>
  <table md-table md-row-select ng-model="selected" md-progress="promise" flex>
    <thead md-head md-order="query.order" md-on-reorder="users" class="md-head">
      <tr md-row>
        <th md-column ><span>Complete Name</span></th>
        <th md-column ><span>Username</span></th>
        <th md-column ><span>Email</span></th>
        <th md-column md-order-by="createdAt" ng-click="changeSort()"><span>Date created</span></th>
      </tr>
    </thead>
    <tbody md-body>
      <tr md-row md-select="user" md-select-id="user._id" md-auto-select ng-repeat="user in users" ng-cloak ng-hide="user._id == $root.userID">
        <td md-cell>{{user.name}}</td>
        <td md-cell>{{user.username}}</td>
        <td md-cell>{{user.emails[0].address}}</td>
        <td md-cell>{{user.createdAt | date :'medium'}}</td>
      </tr>
    </tbody>
  </table>
</md-table-container>
<md-table-pagination md-limit="perPage" md-limit-options="[5, 10, 15]" md-page="page" md-total="{{totalUsers}}" md-on-paginate="users" md-page-select></md-table-pagination>
</md-card>
</div>
